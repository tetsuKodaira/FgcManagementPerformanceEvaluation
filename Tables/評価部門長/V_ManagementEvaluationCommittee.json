{"Columns":[{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"evaluation_commitee_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"evaluation_commitee_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"department_code","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"department_name_lvl00","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"varchar","MaxLength":-1,"Name":"employee_z_code_consenter","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"varchar","MaxLength":-1,"Name":"employee_name_consenter","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"varchar","MaxLength":-1,"Name":"post_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"int","MaxLength":-1,"Name":"is_invaild","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"}],"ExternalDatabaseInfo":{"SourceConnectString":"Data Source=NTVMDTEST-006\\SQLEXPRESS;Initial Catalog=ManagementEvaluationDB;Persist Security Info=True;User ID=kodaira;Password=kodaira","CreateViewSql":"\r\n--何回か参照するのでWITHで外だし。本文に埋め込んでも問題はない。\r\nWITH department AS(SELECT *\r\nFROM\r\n\t[rds-commondb-poc-zeon-db-001.cjzyjlprofpu.ap-northeast-1.rds.amazonaws.com].[Dev_L_USER_MST].[dbo].[lum_view_departments_duplicated] AS department\r\n)\r\nSELECT\r\n\tevaluation_commitee.evaluation_commitee_id,\r\n\tevaluation_commitee.evaluation_commitee_name,\r\n\tevaluation_commitee.department_code,\r\n\tdepartment.department_name_lvl00,\r\n\tISNULL(consenter.consenter_code,employee.account_code) AS employee_z_code_consenter,\r\n\tISNULL(consenter.consenter_name,employee.account_display_name) AS employee_name_consenter,\r\n\tISNULL(consenter.post_name,employee.post_name) AS post_name,\r\n\tevaluation_commitee.is_invaild\r\nFROM\r\n--属する部署がなくても表示したいので評価部会に対して左外部結合\r\n\tM_evaluation_commitees AS evaluation_commitee\r\nLEFT OUTER JOIN\r\n\tdepartment\r\n\tON evaluation_commitee.department_code = department.department_code_lvl00\r\nLEFT OUTER JOIN\r\n\t[rds-commondb-poc-zeon-db-001.cjzyjlprofpu.ap-northeast-1.rds.amazonaws.com].[Dev_L_USER_MST].[dbo].[lum_view_depertment_consener_relations_nac_based_duplicated] AS consenter\r\n\tON department.department_code_lvl00 = consenter.department_code_00\r\n\tAND department.level_no_lvl00 = consenter.level_no\r\nLEFT OUTER JOIN\r\n\t[rds-commondb-poc-zeon-db-001.cjzyjlprofpu.ap-northeast-1.rds.amazonaws.com].[EMP_MST].[dbo].[NAC_Acc_Account] AS employee\r\n\tON evaluation_commitee.employee_z_code_consenter_altered = employee.account_code\r\n","SourceTableName":"V_ManagementEvaluationCommittee","SourceTableSchema":"dbo","DataBaseType":1,"ViewInfo":{"ViewName":"V_ManagementEvaluationCommittee","IsUpdatable":true,"QueryColumns":[]},"UserSetQueryColumns":[]},"Name":"V_ManagementEvaluationCommittee","Relations":[]}